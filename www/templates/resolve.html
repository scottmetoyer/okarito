<ion-modal-view>
  <ion-header-bar class="bar-positive tropic">
    <div class="buttons">
      <button type="button" class="button button-clear" ng-click="cancel()">Cancel</button>
    </div>
    <h1 class="title">&nbsp;</h1>
    <div class="buttons">
      <button type="button" class="button button-clear" ng-click="save('resolve')">Resolve</button>
    </div>
  </ion-header-bar>
  <ion-content scroll="true">
      <div class="list">
        <label class="item item-divider">
          {{ label }}
        </label>
        <label class="item item-input">
          <input type="text" name="title" ng-model="case.sTitle.__cdata" class="title" placeholder="Case title...">
        </label>
        <label class="item item-divider">
          <h3>{{ touched }}</h3>
          <h4 class="subdued">{{ date }}</h4>
        </label>
        <label class="item item-input">
          <textarea msd-elastic="\n\n" id="event" name="event" ng-model="case.newEvent" placeholder="Add a resolution note..."></textarea>
        </label>
        <div class="row" style="padding: 0; text-align: center;">
          <div class="col">
          </div>
          <div class="col">
            <button class="tab-item button button-clear" ng-click="gallery()">
              <i class="icon ion-images dark"></i>
            </button>
          </div>
          <div class="col">
          </div>
          <div class="col">
            <button class="tab-item button button-clear" ng-click="camera()">
              <i class="icon ion-camera dark"></i>
            </button>
          </div>
          <div class="col">
          </div>
        </div>
        <div class="attachments" ng-show="attachments.length > 0">
          <div class="attachment" ng-repeat="attachment in attachments">
            <span ng-click="showAttachment(attachment.url)"><i class="icon ion-image"></i>{{ attachment.name }}</span><i ng-click="deleteAttachment($index)" class="icon ion-close dark"></i>
          </div>
        </div>
        <fancy-select header-text="Choose a Status" label="Status" allow-empty="true" value="case.ixStatus" text="case.sStatus.__cdata" items="statuses"></fancy-select>
        <label class="item item-input">
          <div class="input-label subdued">Project</div>
          <div class="select subdued">
            {{ case.sProject.__cdata }}
          </div>
        </label>
        <label class="item item-input">
          <div class="input-label subdued">Area</div>
          <div class="select subdued">
            {{ case.sArea.__cdata}}
          </div>
        </label>
        <fancy-select header-text="Choose a Milestone" label="Milestone" allow-empty="true" value="case.ixFixFor" text="case.sFixFor.__cdata" items="milestones"></fancy-select>
        <fancy-select header-text="Choose a Category" label="Category" allow-empty="true" value="case.ixCategory" text="case.sCategory.__cdata" items="categories" callback="categoryUpdated(val, true)"></fancy-select>
        <label class="item item-input">
          <div class="input-label subdued">Assigned To</div>
          <div class="select subdued">
            {{ case.sPersonAssignedTo.__cdata}}
          </div>
        </label>
        <fancy-select header-text="Choose a Priority" label="Priority" allow-empty="true" value="case.ixPriority" text="case.sPriority.__cdata" items="priorities"></fancy-select>
        <label class="item item-stacked-label tag-box">
          <span class="input-label subdued">Tags</span>
          <tags-input ng-model="case.tags" replace-spaces-with-dashes="false" display-property="__cdata" placeholder="+" min-length="1"></tags-input>
        </label>
      </div>
  </ion-content>
</ion-modal-view>
